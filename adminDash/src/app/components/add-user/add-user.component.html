<h2 class="bng-dark m-5 mb-2">Add New User</h2>
<div class="container">
<form #addPlanForm="ngForm" (ngSubmit)="addTrainee()">
  <div class="form-group">
    <label for="full_name">full_name</label>
    <input
      type="text"
      class="form-control"
      id="full_name"
      name="full_name"
      [(ngModel)]="user.full_name"
      placeholder="Enter full_name"
      #NameInput="ngModel"
      required
      [ngClass]="{
        'is-invalid':
          (NameInput.touched || NameInput.dirty) &&
          !NameInput.valid
      }"
    />
    <span class="invalid-feedback">
        @if(NameInput.errors?.['required']){
        <span>Name is required</span>
        }
      </span>
  </div>

  <div class="form-group mb-2">
    <label for="coachemail" class="col-form-label">E-mail</label>
    <input
     type="text"
     name="coachemail"
     id="coachemail"
     class="form-control"
     placeholder="E-mail"
     required email minlength="10"
     [(ngModel)]="user.email"
     #emailInput="ngModel"
     [ngClass]="{
        'is-invalid':
          (emailInput.touched || emailInput.dirty) &&
          !emailInput.valid
      }" />
    <span class="invalid-feedback">
      @if(emailInput.errors?.['required']){
      <span>Email is required</span>
      } @if(emailInput.errors?.['email']){
      <span>Enter a valid Email</span>
      }
    </span>
  </div>

  <div class="form-group mb-2">
    <label for="password" class="col-form-label">Password</label>
    <input type="password"
    name="password"
    id="password"
    class="form-control"
    placeholder="Password"
    required
    [(ngModel)]="user.password"
    #passwordInput="ngModel"
    [ngClass]="{
        'is-invalid':
          (passwordInput.touched || passwordInput.dirty) &&
          !passwordInput.valid
      }" />
    <span class="invalid-feedback">
      @if(passwordInput.errors?.['required']){
      <span>Password is required</span>
      }
    </span>
  </div>

  <div class="form-group mb-2">
    <label for="Cpassword" class="col-form-label"> Confirme Password</label>
    <input
    type="password"
    name="Cpassword"
    id="Cpassword"
    class="form-control"
    placeholder="Confirmed Password"
    required
    [(ngModel)]="user.Cpassword"
    #CpasswordInput="ngModel"
    [ngClass]="{
        'is-invalid':
          (CpasswordInput.touched || CpasswordInput.dirty) &&
          !CpasswordInput.valid
      }" />
    <span class="invalid-feedback">
      @if(CpasswordInput.errors?.['required']){
      <span>Confirmed Password is required</span>
      }
    </span>
  </div>

  <div class="form-group">
    <label for="phone_number"> Phone Number</label>
    <input
      type="text"
      class="form-control"
      id="phone_number"
      pattern="^(01)[0-9]{9}$"
      name="phone_number"
      [(ngModel)]="user.phone_number"
      placeholder="Enter Phone Number"
      required
      #PhoneInput="ngModel"
      [ngClass]="{
        'is-invalid':
          (PhoneInput.touched || PhoneInput.dirty) &&
          !PhoneInput.valid
      }"
    />
    <span class="invalid-feedback">
        @if(PhoneInput.errors?.['pattern']){
        <span>Phone Number Must be correct</span>
        }
      </span>
  </div>

  <div class="form-group">
    <label for="birth_date">Birth Date</label>
    <input
      type="date"
      class="form-control"
      id="birth_date"
      name="birth_date"
      [(ngModel)]="user.birth_date"
      placeholder="Enter Birth Date"
      required
    />
  </div>

  <div class="form-group">
    <label for="age">Age</label>
    <input
      type="number"
      class="form-control"
      id="age"
      name="age"
      [(ngModel)]="user.age"
      placeholder="Enter Age"
      #ageInput="ngModel"
      required
    />
    <span class="invalid-feedback">
        @if(ageInput.errors?.['required']){
        <span>Age is required</span>
        }
      </span>
  </div>

  <div class="form-group">
    <label for="height">Height</label>
    <input
      type="number"
      class="form-control"
      id="height"
      name="height"
      [(ngModel)]="user.height"
      placeholder="Enter height"
      #heightInput="ngModel"
      required
    />
    <span class="invalid-feedback">
        @if(heightInput.errors?.['required']){
        <span>height is required</span>
        }
      </span>
  </div>


  <div class="form-group">
    <label for="weight">weight</label>
    <input
      type="number"
      class="form-control"
      id="weight"
      name="weight"
      [(ngModel)]="user.weight"
      placeholder="Enter weight"
      #weightInput="ngModel"
      required
    />
    <span class="invalid-feedback">
        @if(weightInput.errors?.['required']){
        <span>Weight is required</span>
        }
      </span>
  </div>

  <div class="form-group">
    <label for="profilePicture">Profile Picture</label>
    <input
      type="file"
      class="form-control-file"
      id="profilePicture"
      name="profilePicture"
      (change)="onFileSelected($event)"
    />
  </div>

  <div class="form-group">
    <label for="plan_id">plan_id</label>
    <input
      type="text"
      class="form-control"
      id="plan_id"
      name="plan_id"
      [(ngModel)]="user.plan_id"
      placeholder="Enter plan_id"
      #PlanIdInput="ngModel"
      required
      [ngClass]="{
        'is-invalid':
          (PlanIdInput.touched || PlanIdInput.dirty) &&
          !PlanIdInput.valid
      }"
    />
    <span class="invalid-feedback">
        @if(PlanIdInput.errors?.['required']){
        <span>PlanId is required</span>
        }
      </span>
  </div>

  <div class="form-group">
    <label for="subscription_date">Subscription Date</label>
    <input
      type="date"
      class="form-control"
      id="subscription_date"
      name="subscription_date"
      [(ngModel)]="user.subscription_date"
      placeholder="Enter Subscription Date"
      required
    />
  </div>

  <div class="form-group">
    <label for="subscription_end_date">Subscription end Date</label>
    <input
      type="date"
      class="form-control"
      id="subscription_end_date"
      name="subscription_end_date"
      [(ngModel)]="user.subscription_end_date"
      placeholder="Enter subscription_end_date"
      required
    />
  </div>

  <div class="form-group">
    <label for="subscription_months">Subscription Months</label>
    <input
      type="number"
      class="form-control"
      id="subscription_months"
      name="subscription_months"
      [(ngModel)]="user.subscription_months"
      placeholder="Enter subscription_months"
      #SMonthsInput="ngModel"
      required
    />
    <span class="invalid-feedback">
        @if(SMonthsInput.errors?.['required']){
        <span>SMonths is required</span>
        }
      </span>
  </div>

  <div class="form-group">
    <label for="coach_id">coach_id</label>
    <input
      type="text"
      class="form-control"
      id="coach_id"
      name="coach_id"
      [(ngModel)]="user.coach_id"
      placeholder="Enter coach_id"
      #coachIdInput="ngModel"
      required
      [ngClass]="{
        'is-invalid':
          (coachIdInput.touched || coachIdInput.dirty) &&
          !coachIdInput.valid
      }"
    />
    <span class="invalid-feedback">
        @if(coachIdInput.errors?.['required']){
        <span>coachId is required</span>
        }
      </span>
  </div>

  <button
    type="submit"
    class="btn btn-primary"
    [disabled]="addPlanForm.invalid"
  >
    Submit
  </button>

</form>
</div>
